<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API fecthing</title>
</head>
<body>
    <h1>Own data</h1>
    <input type="text" id="input">
    <button id="button">GET DATA</button>

    <h1>Outside data</h1>
    <input type="text" id="input2">
    <button id="button2">GET DATA</button>

    <script>
         const input = document.getElementById("input");
         const button = document.getElementById("button");


         const responseAPI = async (e)=>{
            e.preventDefault();  //Prevent refreshing when pressing the button

            const res = await fetch("http://localhost:4000/message",{ //Fetching the data from the directory
                method: 'GET' //Using http GET method
            })

            console.log(res); //console log the response

            const data = await res.json(); //Bind the value to data variable
            input.value = data.message; //Setting input.value to be the data.message

         }

         //Add event listener to the button
         //when ever the button is click, the function responseAPI will be call
         button.addEventListener('click' , responseAPI) 



         const input2 = document.getElementById("input2");
         const button2 = document.getElementById("button2");

         const responseAPI2 = async (e) => {
            const res = await fetch('https://jsonplaceholder.typicode.com/todos/1' , {
                method: 'GET'
            })

            console.log(res);

            const data = await res.json();
            input2.value = data.title;

         }

         button2.addEventListener('click', responseAPI2);
    </script>
</body>
</html>